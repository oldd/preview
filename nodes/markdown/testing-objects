a bit more complicated, now you have state